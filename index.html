<!DOCTYPE html>
<html>
    <head>
        <meta charset='UTF-8'>
        <title>php文件分片上传示例</title>
    </head>

    <body>
        <div style="margin:50px auto; width:200px;">
            <form action="uploader.php" method="POST">
                <label for="file">上传文件</label>
                <input type="file" name="file" id="file" multiple="multiple"/>
                <button id="submit" type="button">开始上传</button>
            </form>
        </div>
        <script type="text/javascript" src="fileuploader.js"></script>
        <script type="text/javascript">
            var loader = new FileUploader({
                // 输入框选择器，CSS Selector
                selector: '#file',
                // 指定分片处理程序
                url: 'http://localhost:8080/uploader.php',
                // 分片大小
                sharedSize: '2000',
                // 每个文件的上传进度
                progressEach: function(index, total) {

                },
                // 文件队列的上传进度
                progressAll: function (index, total) {

                },
                // 全部上传成功以后的回调
                success: function() {
                    alert("全部上传成功")
                },
                // 某个文件上传失败的回调
                error: function(file) {
                    alert(file.name + "上传错误");
                }
            });
            var button = document.getElementById('submit');
            button.addEventListener('click', function(e){
                e.preventDefault();
                loader.upload();
            });
        </script>
    </body>
</html>
